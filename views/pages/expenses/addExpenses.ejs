<%- include('../../layouts/header') %>
<%- include('../../layouts/left_panel') %>
<%- include('../../layouts/right_panel') %>
<!--Content will start from here-->
<div class="breadcrumbs">
   <div class="col-sm-4">
      <div class="page-header float-left">
         <div class="page-title">
            <h1>Add Expenses</h1>
         </div>
      </div>
   </div>
   <div class="col-sm-8">
      <div class="page-header float-right">
         <div class="page-title">
            <ol class="breadcrumb text-right">
               <li class="active">Add Expenses</li>
            </ol>
         </div>
      </div>
   </div>
</div>
<div class="content mt-3">
   <div class="animated fadeIn">
      <div class="col-lg-12">
         <div class="card">
            <div class="card-header"><strong>Monthly</strong><small> expenses</small></div>
            <div class="card-body card-block">
            <form name="form-expenses" id="form-expenses" method="post">
               <input type="hidden" name="_csrf" value="<%= csrfToken %>" id="csrf_token">
               <div class="form-group"><label for="income-sources" class=" form-control-label">Income sources</label>
                  <select name="incomesources" id="income-sources" class="form-control">
                     <option value="">Please select</option>
                     <option value="101">All</option>
                     <% for(i=0; i<incomeSources.length; i++){ %>
                        <option value="<%=incomeSources[i].id %>"><%=incomeSources[i].users_income_sources %></option>
                     <% } %>
                  </select>
               </div>
               
               <div class="form-group"><label for="ex-year" class=" form-control-label">Year</label>
                  <select name="exyear" id="ex-year" class="form-control">
                  </select>
               </div>
               
               <div class="form-group"><label for="ex-month" class=" form-control-label">Month</label>
                  <select name="exmonth" id="ex-month" class="form-control">
                  </select>
               </div>
               
               <div class="form-group"><label for="ex-date" class=" form-control-label">Date</label><input type="text" id="ex-date" name="exdate" placeholder="0000-00-00" class="form-control"></div>
               
               <div class="form-group"><label for="comments" class=" form-control-label">Comments</label><input type="text" id="comments" name="comments" placeholder="Enter comments" class="form-control"></div>
               
               <div class="form-group"><label for="monthly-expense" class=" form-control-label">Monthly expense</label><input type="text" id="monthly-expense" name="monthlyexpense" placeholder="100000" value="0" maxlength="7" class="form-control"></div>
               
               <button type="submit" class="btn btn-success btn-flat m-b-30 m-t-30">Save</button>
            </form>
            </div>
         </div>
      </div>
   </div>
</div>
<%- include('../../layouts/footer') %>
<script src="/js/validations/expenses.js"></script>
<script type="text/javascript">
jQuery(document).ready(function(){
  //YearList
  let yearListArray = commonObj.yearList();
  let yearList = '<option value="">PLease select</option>'
  for(let i=0; i<yearListArray.length; i++) {
      yearList += '<option value='+yearListArray[i]+'>'+yearListArray[i]+'</option>'
  }
  jQuery("#ex-year").append(yearList);

  //MonthList
  let monthListArray = commonObj.monthList();
  let monthList = '<option value="">PLease select</option>'
  for(let i=0; i<monthListArray.length; i++) {
      monthList += '<option value='+monthListArray[i]+'>'+monthListArray[i]+'</option>'
  }
  jQuery("#ex-month").append(monthList);

  //Date
  jQuery('#ex-date').datepicker({
    format: 'yyyy-mm-dd',
    startDate: '-3d'
  });
})
</script>
